<div class="container mw-80">
  <div class="card bg-glass px-5 mt-3">
  <h3 class="my-4">Add Job</h3>
  <form *ngIf="!loading" [formGroup]="jobForm" (ngSubmit)="onSubmit()">

      <div class="mb-3 col">
        <label class="form-label">JobCode</label>
        <input
          type="text"
          formControlName="jobCode"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['jobCode'].errors }"
        />
        <div
          *ngIf="submitted && f['jobCode'].errors"
          class="invalid-feedback"
        >
          <div *ngIf="f['jobCode'].errors?.['required']">
            Job Code is required
          </div>
        </div>
      </div>
      <div class="mb-3 col">
        <label class="form-label">Job Title</label>
        <input
          type="text"
          formControlName="jobTitle"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['jobTitle'].errors }"
        />
        <div *ngIf="submitted && f['jobTitle'].errors" class="invalid-feedback">
          <div *ngIf="f['jobTitle'].errors?.['required']">
            Job Title is required
          </div>
        </div>
      </div>

      <div class="mb-3 col">
        <label class="form-label">Job Description</label>
        <input
          type="text"
          formControlName="jobDescription"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['jobDescription'].errors }"
        />
        <div *ngIf="submitted && f['jobDescription'].errors" class="invalid-feedback">
          <div *ngIf="f['jobDescription'].errors?.['required']">
            Job Description is required
          </div>
        </div>
      </div>


      <div class="mb-3 col">
        <label class="form-label">Last Date</label>
        <input
          type="datetime"
          formControlName="lastDate"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['lastDate'].errors }"
        />
        <div *ngIf="submitted && f['lastDate'].errors" class="invalid-feedback">
          <div *ngIf="f['lastDate'].errors?.['required']">Last Date is required</div>
          <!-- <div *ngIf="f['lastDate'].errors?.['lastDate']">Last Date is invalid</div> --> last date should be greater than today
        </div>
      </div>
       
      <div class="mb-3 col">
        <!-- <select *ngFor="let degree ">
          <option>

          </option>
        </select> -->
      </div>

      <div class="mb-3 col">
        <label class="form-label">Experience</label>
        <input
          type="text"
          formControlName="experience"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['experience'].errors }"
        />
      </div>
      <div class="mb-3 col">
        <label class="form-label">Employee Id</label>
        <input
          type="text"
          formControlName="empId"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['empId'].errors }"
        />
        <div *ngIf="submitted && f['empId'].errors" class="invalid-feedback">
          <div *ngIf="f['empId'].errors?.['required']">
            Employee Id is required
          </div>
        </div>
      </div>
      <div class="mb-3 col">
        <label class="form-label"> Designation </label>
        <input
          type="number"
          formControlName="designation"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f['designation'].errors }"
        />

        <div
          *ngIf="submitted && f['designation'].errors"
          class="invalid-feedback"
        >
          <div *ngIf="f['designation'].errors?.['required']">
            Designation is required
          </div>
        </div>
      </div>
    <div class="mb-3">
      <button [disabled]="submitting" class="btn btn-primary">
        <span
          *ngIf="submitting"
          class="spinner-border spinner-border-sm me-1"
        ></span>
        Save
      </button>
      <a routerLink="/users" class="btn btn-link">Cancel</a>
    </div>
  </form>
</div>
<div *ngIf="loading" class="text-center m-5">
  <span class="spinner-border spinner-border-lg align-center"></span>
</div>
</div>